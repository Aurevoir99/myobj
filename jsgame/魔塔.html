<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>九层妖塔</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			.box {
				/*background-color: sandybrown;*/
				margin: 10px auto;
			}
			
			.thingsbox {
				margin: auto;
				width: 800px;
				border: 2px solid yellow;
				height: 100px;
				background-image: url(gameings/11.png);
				background-repeat: repeat;
				font-size: 20px;
				color: #fff;
			}
			
			.keysnum {
				display: inline-block;
				width: 40px;
				height: 41px;
				line-height: 41px;
				vertical-align: middle;
				text-align: center;
			}
			
			.back {
				background-image: url(gameings/1.jpg);
				background-repeat: no-repeat;
				background-size: 100% 100%;
			}
			
			.red {
				margin-top: -92px;
				margin-left: 205px;
			}
			
			.rednum {
				display: inline-block;
				width: 40px;
				height: 41px;
				line-height: 41px;
				vertical-align: middle;
				text-align: center;
				margin-top: -20px;
			}
			
			.green {
				margin-top: 9px;
				margin-left: 205px;
			}
			
			.greennum {
				display: inline-block;
				width: 40px;
				height: 41px;
				line-height: 41px;
				vertical-align: middle;
				text-align: center;
				margin-top: -20px;
			}
			
			.positions {
				margin-top: -92px;
				margin-left: 350px;
			}
			
			.quanzhang {
				margin-top: 19px;
				margin-left: 350px;
			}
			
			.quanzhangnum {
				display: inline-block;
				width: 40px;
				height: 41px;
				line-height: 41px;
				vertical-align: middle;
				text-align: center;
			}
			
			.hongyaoshui {
				margin-top: -87px;
				margin-left: 530px;
			}
			
			.hongyaoshuinum {
				display: inline-block;
				width: 40px;
				height: 41px;
				line-height: 41px;
				vertical-align: middle;
				text-align: center;
			}
		</style>
	</head>

	<body>
		<div class="back">
			<div class="thingsbox">
				<div class="key">
					<img src="gameings/14.png" alt="" style="vertical-align: middle;" />
					<span class="keysnum">0</span>
				</div>
				<div class="Blood">
					<span>生命值：</span>
					<span class="Bloodnum">100</span>
				</div>
				<div class="kd">
					<span>攻击力：</span>
					<span class="kdnum">50</span>
				</div>
				<div class="red" style="vertical-align: middle;">
					<img src="gameings/23.png" />
					<span class="rednum">0</span>
				</div>
				<div class="green" style="vertical-align: middle;">
					<img src="gameings/24.png" />
					<span class="greennum">0</span>
				</div>
				<div class="positions">
					<span>当前楼层：</span>
					<span class="positionnum">1</span>
				</div>
				<div class="quanzhang">
					<img src="gameings/28.png" alt="" style="vertical-align: middle;" />
					<span class="quanzhangnum">0</span>
				</div>
				<div class="hongyaoshui">
					<img src="gameings/30.png" alt="" style="vertical-align: middle;" />
					<span class="hongyaoshuinum">0</span>
				</div>
			</div>
			<div class="box" style="width: 800px;height: 500px;"></div>
		</div>

		<script type="text/javascript">
			var box = document.getElementsByClassName("box")[0];
			var arr = [ //第一层
				[1, 2, 2, 2, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 0],
				[0, 0, 2, 2, 2, 2, 0, 0, 0, 2, 2, 0, 0, 2, 2, 0],
				[2, 0, 2, 9, 0, 5, 2, 0, 9, 2, 2, 2, 0, 2, 0, 2],
				[2, 0, 2, 2, 2, 2, 2, 0, 0, 2, 2, 2, 4, 2, 3, 0],
				[2, 2, 0, 2, 5, 9, 2, 2, 0, 2, 3, 2, 0, 2, 0, 0],
				[0, 2, 3, 2, 3, 0, 5, 2, 9, 2, 3, 2, 0, 2, 0, 2],
				[2, 0, 3, 2, 0, 0, 5, 2, 2, 3, 2, 2, 2, 2, 0, 0],
				[0, 0, 0, 0, 0, 0, 5, 2, 2, 2, 2, 2, 2, 2, 6, 8]
			];
			var arr1 = [ //第二层
				[10, 1, 2, 2, 0, 3, 11, 11, 4, 4, 0, 0, 0, 0, 11, 0],
				[0, 0, 2, 2, 2, 2, 0, 0, 5, 2, 2, 0, 0, 2, 2, 0],
				[4, 0, 2, 9, 0, 2, 2, 0, 9, 2, 2, 2, 0, 2, 0, 2],
				[11, 0, 2, 2, 2, 0, 2, 0, 0, 2, 2, 2, 9, 2, 3, 0],
				[4, 2, 0, 2, 5, 0, 2, 2, 0, 2, 2, 5, 0, 2, 0, 0],
				[0, 2, 3, 2, 3, 0, 5, 2, 9, 2, 2, 5, 9, 2, 0, 2],
				[2, 0, 3, 3, 11, 0, 5, 2, 2, 2, 2, 9, 2, 6, 8, 0],
				[0, 0, 0, 0, 11, 0, 5, 2, 2, 2, 2, 5, 9, 2, 0, 0]
			];
			var arr2 = [ //第三层
				[0, 10, 0, 5, 3, 0, 3, 5, 0, 11, 13, 2, 2, 2, 2, 2],
				[0, 1, 0, 0, 14, 0, 14, 0, 0, 0, 0, 2, 0, 2, 2, 0],
				[0, 2, 4, 0, 2, 2, 2, 2, 2, 0, 11, 0, 2, 0, 2, 2],
				[0, 5, 4, 12, 13, 0, 2, 0, 2, 0, 13, 0, 14, 0, 2, 2],
				[0, 5, 9, 0, 2, 2, 0, 0, 2, 2, 2, 2, 2, 4, 2, 2],
				[0, 13, 13, 0, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 4, 0],
				[0, 4, 5, 0, 0, 0, 0, 0, 0, 2, 0, 2, 4, 4, 6, 2],
				[0, 0, 0, 0, 4, 11, 4, 5, 4, 11, 0, 2, 4, 4, 2, 8]
			];
			var arr3 = [ //第四层
				[0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 2, 8, 0, 0, 11, 0],
				[2, 4, 4, 2, 14, 15, 0, 2, 0, 2, 2, 0, 0, 2, 2, 0],
				[2, 11, 11, 2, 0, 16, 0, 2, 0, 2, 4, 2, 0, 2, 0, 0],
				[0, 0, 0, 0, 0, 13, 0, 2, 0, 2, 2, 2, 9, 2, 3, 0],
				[10, 5, 2, 2, 2, 2, 2, 6, 2, 17, 0, 0, 0, 2, 0, 0],
				[0, 0, 0, 0, 0, 13, 0, 4, 0, 16, 15, 16, 2, 9, 0, 0],
				[2, 11, 11, 2, 0, 15, 0, 4, 0, 5, 5, 5, 2, 2, 3, 0],
				[2, 4, 4, 2, 14, 16, 0, 11, 0, 5, 11, 5, 0, 0, 0, 0]
			];
			var arr4 = [ //第五层
				[1, 5, 2, 2, 0, 0, 0, 0, 0, 2, 2, 20, 0, 0, 0, 0],
				[13, 0, 2, 2, 2, 2, 0, 0, 0, 2, 2, 0, 0, 22, 22, 0],
				[21, 0, 2, 9, 0, 5, 2, 0, 20, 2, 2, 2, 0, 3, 0, 2],
				[19, 0, 2, 2, 2, 2, 2, 0, 0, 2, 2, 2, 4, 2, 5, 0],
				[21, 14, 0, 2, 5, 9, 2, 2, 0, 2, 3, 2, 0, 2, 0, 0],
				[0, 2, 3, 2, 3, 0, 5, 2, 9, 2, 3, 2, 0, 2, 0, 2],
				[2, 0, 3, 2, 0, 0, 5, 2, 2, 3, 5, 4, 2, 2, 0, 0],
				[0, 0, 0, 0, 0, 0, 5, 2, 2, 2, 4, 5, 2, 2, 6, 8]
			];
			var arr5 = [ //第六层
				[0, 10, 0, 15, 15, 0, 16, 16, 0, 11, 13, 2, 0, 0, 0, 0],
				[0, 1, 0, 0, 14, 0, 14, 0, 0, 0, 0, 5, 2, 2, 2, 0],
				[0, 2, 4, 0, 2, 2, 2, 2, 2, 0, 11, 0, 5, 0, 2, 2],
				[0, 5, 4, 12, 13, 0, 11, 0, 2, 0, 13, 0, 14, 0, 2, 2],
				[0, 5, 9, 0, 2, 2, 0, 0, 2, 2, 2, 2, 2, 4, 2, 2],
				[0, 13, 13, 0, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 4, 0],
				[0, 20, 22, 0, 0, 0, 0, 0, 0, 2, 0, 2, 4, 4, 6, 2],
				[0, 5, 5, 0, 4, 11, 4, 5, 4, 11, 0, 2, 4, 4, 2, 8]
			];
			var arr6 = [ //第七层
				[0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 2, 8, 0, 0, 11, 0],
				[2, 4, 4, 2, 14, 20, 0, 2, 0, 2, 2, 0, 0, 2, 2, 0],
				[2, 11, 11, 2, 0, 16, 0, 2, 0, 5, 15, 22, 0, 2, 0, 0],
				[0, 0, 0, 0, 0, 13, 0, 2, 0, 5, 22, 20, 9, 2, 3, 0],
				[10, 2, 2, 2, 2, 2, 2, 6, 2, 19, 0, 0, 0, 2, 0, 0],
				[0, 0, 0, 0, 0, 13, 0, 4, 0, 16, 15, 16, 2, 9, 0, 0],
				[2, 11, 11, 2, 0, 15, 0, 4, 0, 2, 2, 2, 2, 2, 3, 0],
				[2, 4, 4, 2, 14, 20, 0, 11, 0, 5, 11, 5, 0, 0, 0, 0]
			];
			var arr7 = [ //第八层
				[10, 1, 2, 2, 0, 3, 11, 11, 4, 4, 0, 0, 0, 0, 11, 0],
				[0, 0, 2, 2, 2, 2, 0, 0, 5, 2, 2, 0, 0, 2, 2, 0],
				[4, 0, 2, 9, 0, 2, 2, 0, 9, 2, 2, 2, 0, 2, 0, 2],
				[11, 0, 2, 2, 2, 0, 2, 0, 0, 2, 2, 2, 9, 2, 3, 0],
				[4, 2, 0, 2, 5, 0, 2, 2, 0, 2, 2, 5, 0, 2, 0, 0],
				[0, 2, 3, 2, 3, 0, 5, 2, 9, 2, 2, 5, 9, 2, 0, 2],
				[2, 0, 3, 3, 11, 0, 5, 2, 2, 2, 2, 19, 2, 6, 8, 0],
				[0, 0, 0, 0, 11, 0, 5, 2, 2, 2, 2, 5, 9, 2, 0, 0]
			];
			var arr8 = [ //第九层
				[0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 2, 18, 0, 0, 11, 0],
				[2, 4, 4, 2, 14, 15, 0, 2, 0, 2, 23, 0, 0, 2, 2, 0],
				[2, 11, 11, 2, 0, 16, 0, 2, 0, 2, 2, 2, 0, 2, 0, 0],
				[0, 0, 0, 0, 0, 13, 0, 2, 0, 2, 2, 2, 9, 2, 3, 0],
				[10, 2, 2, 2, 2, 2, 2, 6, 2, 14, 0, 0, 0, 2, 0, 0],
				[0, 0, 0, 0, 0, 13, 0, 4, 0, 16, 15, 16, 2, 9, 0, 0],
				[2, 11, 11, 2, 0, 15, 0, 4, 0, 2, 2, 2, 2, 2, 3, 0],
				[2, 4, 4, 2, 14, 16, 0, 11, 0, 5, 11, 5, 0, 0, 0, 0]
			];
			var arrall = [arr, arr1, arr2, arr3, arr4, arr5, arr6, arr7, arr8];
			var boxwidth = parseInt(box.style.width); //大盒子的宽高取整
			var boxheight = parseInt(box.style.height);
			var keysnum = document.getElementsByClassName("keysnum")[0];
			var Bloodnum = document.getElementsByClassName("Bloodnum")[0];
			var kdnum = document.getElementsByClassName("kdnum")[0];
			var rednum = document.getElementsByClassName("rednum")[0];
			var greennum = document.getElementsByClassName("greennum")[0];
			var positionnum = document.getElementsByClassName("positionnum")[0];
			var quanzhangnum = document.getElementsByClassName("quanzhangnum")[0];
			var hongyaoshuinum = document.getElementsByClassName("hongyaoshuinum")[0];
			var x = 0;
			var y = 0;
			var keys = 0; //定义钥匙的初始值
			var Blood = 100; //定义血量的初始值
			var kd1 = 49; //定义骷髅的攻击力
			var kd2 = 80; //定义男怪物的攻击力
			var personkd = 50; //定义自身攻击力的初始值
			var arrnum = 0; //定义arr的个数，也就是是第几张地图
			Map(arrall[arrnum]);
			move(arrall[arrnum]);
			var red = 0; //定义红色豆豆的初始值
			var green = 0; //定义绿色豆豆的初始值
			var positions = 1; //定义楼层的初始值
			var quanzhang = 0; //定义权杖的初始值
			var hongyaoshui = 0; //定义红药水的初始值

			function Map(arr) {
				box.innerText = "";
				for(var i = 0; i < arr.length; i++) {
					for(var j = 0; j < arr[i].length; j++) {
						var backmap = document.createElement("div");
						//全部填充进去
						backmap.style.width = boxwidth / arr[i].length + "px";
						backmap.style.height = boxheight / arr.length + "px";
						backmap.style.backgroundRepeat = "no-repeat";
						backmap.style.backgroundSize = "100% 100%";
						backmap.style.backgroundColor = "rgb(0,0,0)";
						backmap.style.float = "left"
						if(arr[i][j] == 0) { //骷髅钥匙
							backmap.style.backgroundImage = "url(gameings/17.png)"
						} else if(arr[i][j] == 1) {
							backmap.style.backgroundImage = "url(gameings/13.png)"
						} else if(arr[i][j] == 2) {
							backmap.style.backgroundImage = "url(gameings/9.png)"
						} else if(arr[i][j] == 3) {
							backmap.style.backgroundImage = "url(gameings/12.png)"
						} else if(arr[i][j] == 4) {
							backmap.style.backgroundImage = "url(gameings/14.png)"
						} else if(arr[i][j] == 5) {
							backmap.style.backgroundImage = "url(gameings/15.png)"
						} else if(arr[i][j] == 6) {
							backmap.style.backgroundImage = "url(gameings/16.png)"
						} else if(arr[i][j] == 7) {
							backmap.style.backgroundImage = "url(gameings/17.png)"
						} else if(arr[i][j] == 8) {
							backmap.style.backgroundImage = "url(gameings/18.png)"
						} else if(arr[i][j] == 9) {
							backmap.style.backgroundImage = "url(gameings/19.png)"
						} else if(arr[i][j] == 10) {
							backmap.style.backgroundImage = "url(gameings/18.png)"
						} else if(arr[i][j] == 11) {
							backmap.style.backgroundImage = "url(gameings/20.png)"
						} else if(arr[i][j] == 12) {
							backmap.style.backgroundImage = "url(gameings/21.png)"
						} else if(arr[i][j] == 13) {
							backmap.style.backgroundImage = "url(gameings/22.png)"
						} else if(arr[i][j] == 14) {
							backmap.style.backgroundImage = "url(gameings/26.png)"
						} else if(arr[i][j] == 15) {
							backmap.style.backgroundImage = "url(gameings/23.png)"
						} else if(arr[i][j] == 16) {
							backmap.style.backgroundImage = "url(gameings/24.png)"
						} else if(arr[i][j] == 17) {
							backmap.style.backgroundImage = "url(gameings/25.png)"
						} else if(arr[i][j] == 18) {
							backmap.style.backgroundImage = "url(gameings/18.png)"
						} else if(arr[i][j] == 19) {
							backmap.style.backgroundImage = "url(gameings/27.png)"
						} else if(arr[i][j] == 20) {
							backmap.style.backgroundImage = "url(gameings/28.png)"
						} else if(arr[i][j] == 21) {
							backmap.style.backgroundImage = "url(gameings/29.png)"
						} else if(arr[i][j] == 22) {
							backmap.style.backgroundImage = "url(gameings/30.png)"
						} else if(arr[i][j] == 23) {
							backmap.style.backgroundImage = "url(gameings/31.png)"
						};
						box.appendChild(backmap);
					}
				}
			}

			function move(arr) {
				window.onkeyup = function(e) {
					switch(e.keyCode) {
						case 37: //向左移动
							if(x <= 0) { //遇到边缘不做任何动作

							} else { //向左移动x（列）--
								compare(37, arr)
							}
							break;
						case 38: //向上移动
							if(y <= 0) { //遇到边缘不做任何动作

							} else { //向上移动y（行）--
								compare(38, arr)
							}
							break;
						case 39: //向右移动
							if(x > arr[0].length - 2) { //遇到边缘不做任何动作，减去自身的位置还要减去自己在最边上的位置

							} else { //向右移动x（列）++
								compare(39, arr)
							}
							break;
						case 40: //向下移动
							if(y > arr.length - 2) { //遇到边缘不做任何动作

							} else { //向下移动y（行）++
								compare(40, arr)
							}
							break;
					}
				}
			}
			//封装
			function change(arr, xtype, ytype) {
				var x0;
				var y0;
				//x是列，y是行
				if(xtype == 0) { //假设xtype==0
					x0 = x + 1; //此时向右移动一个格，列变行不变
					y0 = y;
				} else if(xtype == 1) { //假设xtype==1
					x0 = x - 1; //此时向左移动一个格，列变行不变
					y0 = y;
				} else if(xtype == 2) { //假设xtype==2
					if(ytype == 0) { //假设ytype==0
						x0 = x; //此时向下移动一个格，列不变行变
						y0 = y + 1;
					} else if(ytype == 1) { //假设ytype==1
						x0 = x; //此时向上移动一个格，列不变行变
						y0 = y - 1;
					}
				}
				var temp; //定义一个变量，使当前的任务与其他的东西交换位置来达到移动的效果
				temp = arr[y][x];
				arr[y][x] = arr[y0][x0];
				arr[y0][x0] = temp;
				y = y0;
				x = x0;
				Map(arr)
			}

			function compare(keyCode, arr) {
				var x0;
				var y0;
				var xtype;
				var ytype;
				if(keyCode == 37) {
					x0 = x - 1;
					y0 = y;
					xtype = 1;
					ytype = 0;
				} else if(keyCode == 38) {
					x0 = x;
					y0 = y - 1;
					xtype = 2;
					ytype = 1;
				} else if(keyCode == 39) {
					x0 = x + 1;
					y0 = y;
					xtype = 0;
					ytype = 0;
				} else if(keyCode == 40) {
					x0 = x;
					y0 = y + 1;
					xtype = 2;
					ytype = 0;
				};  //规则在最后
				if(arr[y0][x0] == 0) {

				} else if(arr[y0][x0] == 2) {
					change(arr, xtype, ytype)
				} else if(arr[y0][x0] == 3) {
					if(personkd > kd1) {
						personkd += 5; //攻击力+5
						kdnum.innerText = personkd;
						Blood -= 10; //生命值-10
						Bloodnum.innerText = Blood;
						if(Blood <= 0) {
							alert("不好意思，生命耗尽请刷新重新来过！");
						}else {
							arr[y0][x0] = 2; //将当前的位置切换成地砖
						change(arr, xtype, ytype); //调用change函数进行换位置
						}	
					} else {
						arr[y][x] = 2;
						arr[0][0] = 1;
						x = 0;
						y = 0;
						Map(arr);
					}
				} else if(arr[y0][x0] == 4) {
					keys++;
					keysnum.innerText = keys;
					arr[y0][x0] = 2;
					change(arr, xtype, ytype);
				} else if(arr[y0][x0] == 5) {
					Blood += 10;
					Bloodnum.innerText = Blood;
					if(Blood <= 0) {
							alert("不好意思，生命耗尽请刷新重新来过！");
						}else {
							arr[y0][x0] = 2; //将当前的位置切换成地砖
						change(arr, xtype, ytype); //调用change函数进行换位置
						}
				} else if(arr[y0][x0] == 6) {
					if(keys > 0) {
						keys--;
						keysnum.innerText = keys;
						arr[y0][x0] = 2;
						change(arr, xtype, ytype);
					} else {
						alert("钥匙不足，收集之后再来试试吧！")
					}
				} else if(arr[y0][x0] == 9) {
					if(personkd > kd2) {
						personkd -= 5;
						kdnum.innerText = personkd;
						Blood -= 15; //生命值-10
						Bloodnum.innerText = Blood;
						if(Blood <= 0) {
							alert("不好意思，生命耗尽请刷新重新来过！");
						}else {
							arr[y0][x0] = 2; //将当前的位置切换成地砖
						change(arr, xtype, ytype); //调用change函数进行换位置
						}
					} else {
						//						arr[y][x] = 2;
						//						arr[0][0] = 1;
						//						x = 0; //将任务坐标重置
						//						y = 0;
						//						Map(arr);
						alert("不好意思，您的攻击力不够哦。")
					}
				} else if(arr[y0][x0] == 8) {
					arrnum++;
					Map(arrall[arrnum]);
					move(arrall[arrnum]);
					positions++;
					positionnum.innerText = positions;
					for(var i = 0; i < arrall[arrnum].length; i++) {
						for(var j = 0; j < arrall[arrnum][i].length; j++) {
							if(arrall[arrnum][i][j] == 1) {
								x = j;
								y = i;
							}
						}
					}
				} else if(arr[y0][x0] == 10) {
					arrnum--;
					Map(arrall[arrnum]);
					move(arrall[arrnum]);
					positions--;
					positionnum.innerText = positions;
					for(var i = 0; i < arrall[arrnum].length; i++) {
						for(var j = 0; j < arrall[arrnum][i].length; j++) {
							if(arrall[arrnum][i][j] == 1) {
								x = j;
								y = i;
							}
						}
					}
				} else if(arr[y0][x0] == 11) {
					personkd += 5;
					kdnum.innerText = personkd;
					arr[y0][x0] = 2;
					change(arr, xtype, ytype);
				} else if(arr[y0][x0] == 12) {
					Blood -= 50;
					Bloodnum.innerText = Blood;
					if(Blood <= 0) {
							alert("不好意思，生命耗尽请刷新重新来过！");
						}else {
							arr[y0][x0] = 2; //将当前的位置切换成地砖
						change(arr, xtype, ytype); //调用change函数进行换位置
						}
				} else if(arr[y0][x0] == 13) {
					if(keys >= 2) {
						keys -= 2;
						keysnum.innerText = keys;
						arr[y0][x0] = 2;
						change(arr, xtype, ytype);
					} else {
						alert("钥匙不足，收集之后再来试试吧！");
					}
				} else if(arr[y0][x0] == 14) {
					if(keys >= 3) {
						keys -= 3;
						keysnum.innerText = keys;
						arr[y0][x0] = 2;
						change(arr, xtype, ytype);
					} else {
						alert("钥匙不足，收集之后再来试试吧！");
					}
				} else if(arr[y0][x0] == 15) {
					red++;
					rednum.innerText = red;
					if(red >= 2 && green >= 2) {
						arr3[4][9] = 2;
						red -= 2;
						green -= 2;
						rednum.innerText = red;
						greennum.innerText = green;
					};
					Blood -= 5; //生命值-10
					Bloodnum.innerText = Blood;
					if(Blood <= 0) {
							alert("不好意思，生命耗尽请刷新重新来过！");
						}else {
							arr[y0][x0] = 2; //将当前的位置切换成地砖
						change(arr, xtype, ytype); //调用change函数进行换位置
						}
				} else if(arr[y0][x0] == 16) {
					green++;
					greennum.innerText = green;
					if(red >= 2 && green >= 2) { //当红色豆豆和绿色豆豆数量都大于2时铁门自动消失
						arr3[4][9] = 2;
						red -= 2;
						green -= 2;
						rednum.innerText = red;
						greennum.innerText = green;
					};
					Blood -= 5; //生命值-5
					Bloodnum.innerText = Blood;
					if(Blood <= 0) {
							alert("不好意思，生命耗尽请刷新重新来过！");
						}else {
							arr[y0][x0] = 2; //将当前的位置切换成地砖
						change(arr, xtype, ytype); //调用change函数进行换位置
						}
				} else if(arr[y0][x0] == 17) {

					alert("红豆豆和绿豆豆收集的不足，请收集之后再来试试吧！");

				} else if(arr[y0][x0] == 18) {
					alert("更多楼层正在开发中，敬请期待！");
					//					change(arr, xtype, ytype);
				} else if(arr[y0][x0] == 19) {
					if(quanzhang >= 1) {
						quanzhang--;
						quanzhangnum.innerText = quanzhang;
						personkd -= 20;
						kdnum.innerText = personkd;
						arr[y0][x0] = 2;
						change(arr, xtype, ytype);
					} else {
						alert("权杖数量不足，请收集之后再来！")
					}
				} else if(arr[y0][x0] == 20) {
					quanzhang++;
					quanzhangnum.innerText = quanzhang;
					arr[y0][x0] = 2;
					change(arr, xtype, ytype);
				} else if(arr[y0][x0] == 21) {
					if(hongyaoshui >= 1) {
						hongyaoshui--;
						hongyaoshuinum.innerText = hongyaoshui;
						personkd -= 5;
						kdnum.innerText = personkd;
						arr[y0][x0] = 2;
						change(arr, xtype, ytype);
					} else {
						alert("药水数量不足，请收集之后再来！")
					}
				} else if(arr[y0][x0] == 22) {
					hongyaoshui++;
					hongyaoshuinum.innerText = hongyaoshui;
					arr[y0][x0] = 2;
					change(arr, xtype, ytype);
				} else if(arr[y0][x0] == 23) {
					if(hongyaoshui >= 1 && quanzhang >= 1 && red >= 1 && green >= 1) {
						hongyaoshui--;
						hongyaoshuinum.innerText = hongyaoshui;
						quanzhang--;
						quanzhangnum.innerText = quanzhang;
						red--;
						rednum.innerText = red;
						green--;
						greennum.innerText = green;
						arr[y0][x0] = 2;
						change(arr, xtype, ytype);
					} else {
						alert("请收集足够的红豆豆、绿豆豆、红药水、权杖之后再来！")
					}
				} else {
					change(arr, xtype, ytype);
				}
			}
			//			规则:
			//			骷髅：         攻击力 > 49 可攻击同时攻击力 +5
			//			宝石：         生命 + 5
			//			红色的门：  钥匙 - 1
			//			男的怪物：  攻击力 > 80 可攻击同时攻击力 - 5
			//			药水：          攻击力 + 5
			//			天使 ：         生命 - 50
			//			银色的门：   钥匙 - 2
			//			金色的门 ：  钥匙 - 3
			//			栅栏：           红色的豆豆 - 2， 绿色的豆豆 - 2时自动消失
			//          幽灵：           权杖-1同时攻击力-20
			//          蝙蝠 ：          红药水-1同时攻击力-5
			//          鬼门：           红药水-1，权杖-1红豆豆-1，绿豆豆-1
		</script>
	</body>

</html>